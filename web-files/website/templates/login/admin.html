{% extends "base.html" %}
{% block title %} Admin Page {% endblock %}

{% block bg %}<body background="../static/images/admin-bg.jpg">{% endblock %}

{% block style %}
<link rel="stylesheet" href="../static/css/main.css">
{% endblock %}

{% block content %}
<div class="admin-container">
  <h1>Welcome, Admin</h1>
  
  <h2>User Management</h2>
  <div class="user-management">
    <table>
      <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
      {% for user in users %}
      <tr>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>
          <a href="{{ url_for('admin_logic.edit_user', user_id=user.id) }}">Edit</a>
          <a href="{{ url_for('admin_logic.delete_user', user_id=user.id) }}" onclick="return confirm('Are you sure you want to delete this user?')">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
  
  <h2>Pet Management</h2>
  <div class="pet-management">
    <table>
      <tr>
        <th>Pet Name</th>
        <th>Owner</th>
        <th>Actions</th>
      </tr>
      {% for pet in pets %}
      <tr>
        <td>{{ pet.name }}</td>
        <td>{{ pet.owner.username }}</td>
        <td>
          <a href="{{ url_for('admin_logic.edit_pet', pet_id=pet.id) }}">Edit</a>
          <a href="{{ url_for('admin_logic.delete_pet', pet_id=pet.id) }}" onclick="return confirm('Are you sure you want to delete this pet?')">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
  
  <h2>Visit Management</h2>
  <div class="visit-management">
    <table>
      <tr>
        <th>Pet Name</th>
        <th>Owner</th>
        <th>Visit Date</th>
        <th>Actions</th>
      </tr>
      {% for visit in visits %}
      <tr>
        <td>{{ visit.pet.name }}</td>
        <td>{{ visit.pet.owner.username }}</td>
        <td>{{ visit.date }}</td>
        <td>
          <a href="{{ url_for('admin_logic.edit_visit', visit_id=visit.id) }}">Edit</a>
          <a href="{{ url_for('admin_logic.delete_visit', visit_id=visit.id) }}" onclick="return confirm('Are you sure you want to delete this visit?')">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}
